<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT's Global Water Footprint | Interactive Whitepaper</title>
    <meta name="description" content="Explore the hidden environmental impact of ChatGPT through an interactive analysis of its global water consumption and sustainability implications.">
    
    <!-- Social sharing metadata -->
    <meta property="og:title" content="ChatGPT's Water Footprint: The Hidden Environmental Cost">
    <meta property="og:description" content="Each AI prompt consumes 20ml of water. Discover the real data behind ChatGPT's global water usage.">
    <meta property="og:image" content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='630' viewBox='0 0 1200 630'%3E%3Crect width='1200' height='630' fill='%231a73e8'/%3E%3Ctext x='600' y='315' font-family='Arial' font-size='72' text-anchor='middle' fill='white'%3EChatGPT's Water Footprint%3C/text%3E%3C/svg%3E">
    <meta property="og:url" content="#">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="AI Environmental Impact Research">
    <meta name="twitter:card" content="summary_large_image">
    
    <!-- External Libraries -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Source+Sans+Pro:wght@300;400;600&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/countup.js/2.3.2/countUp.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/MotionPathPlugin.min.js"></script>
    
    <style>
        /* Base Styles and Reset */
        :root {
            /* Color Variables */
            --color-primary: #1a73e8;
            --color-primary-light: #4285f4;
            --color-primary-dark: #0d47a1;
            --color-secondary: #00897b;
            --color-secondary-light: #4db6ac;
            --color-accent: #ff7043;
            --color-background: #f8fcff;
            --color-text: #202124;
            --color-text-light: #4a4a4a;
            --color-card: #ffffff;
            --color-card-shadow: rgba(0, 0, 0, 0.08);
            
            /* Font Variables */
            --font-heading: 'Montserrat', sans-serif;
            --font-body: 'Source Sans Pro', sans-serif;
            --font-mono: 'Roboto Mono', monospace;
            
            /* Font Sizes */
            --fs-hero: clamp(2.5rem, 5vw, 4rem);
            --fs-section: clamp(1.8rem, 4vw, 2.8rem);
            --fs-subsection: clamp(1.2rem, 3vw, 1.8rem);
            --fs-body: clamp(1rem, 2vw, 1.125rem);
            --fs-small: clamp(0.8rem, 1.5vw, 0.9rem);
            
            /* Line Heights */
            --lh-tight: 1.1;
            --lh-normal: 1.5;
            --lh-loose: 1.8;
            
            /* Spacing */
            --space-xs: clamp(0.5rem, 1vw, 0.75rem);
            --space-sm: clamp(0.75rem, 1.5vw, 1rem);
            --space-md: clamp(1rem, 3vw, 2rem);
            --space-lg: clamp(2rem, 5vw, 3.5rem);
            --space-xl: clamp(3.5rem, 8vw, 6rem);
            
            /* Container Width */
            --container-width: min(90%, 1200px);
            --container-narrow: min(85%, 800px);
            
            /* Animation Durations */
            --duration-fast: 0.2s;
            --duration-medium: 0.5s;
            --duration-slow: 0.8s;
            
            /* Other */
            --border-radius: 12px;
            --box-shadow: 0 8px 30px var(--color-card-shadow);
            --transition-standard: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: var(--font-body);
            font-size: var(--fs-body);
            line-height: var(--lh-normal);
            color: var(--color-text);
            background-color: var(--color-background);
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
            line-height: var(--lh-tight);
            font-weight: 700;
            margin-bottom: var(--space-md);
        }
        
        h1 {
            font-size: var(--fs-hero);
            letter-spacing: -0.02em;
        }
        
        h2 {
            font-size: var(--fs-section);
            letter-spacing: -0.01em;
        }
        
        h3 {
            font-size: var(--fs-subsection);
            font-weight: 600;
        }
        
        p {
            margin-bottom: var(--space-md);
        }
        
        img {
            max-width: 100%;
            height: auto;
            display: block;
        }
        
        a {
            color: var(--color-primary);
            text-decoration: none;
            transition: var(--transition-standard);
        }
        
        a:hover {
            color: var(--color-primary-dark);
        }
        
        button {
            font-family: var(--font-body);
            cursor: pointer;
            border: none;
            outline: none;
            background: none;
            transition: var(--transition-standard);
        }
        
        .container {
            width: var(--container-width);
            margin: 0 auto;
            position: relative;
        }
        
        .container-narrow {
            width: var(--container-narrow);
            margin: 0 auto;
            position: relative;
        }
        
        section {
            padding: var(--space-xl) 0;
            position: relative;
        }
        
        .card {
            background-color: var(--color-card);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: var(--space-md);
            transition: var(--transition-standard);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px var(--color-card-shadow);
        }
        
        .btn {
            display: inline-block;
            padding: 0.8em 1.8em;
            background-color: var(--color-primary);
            color: white;
            font-weight: 600;
            border-radius: 50px;
            font-size: 1rem;
            transition: var(--transition-standard);
        }
        
        .btn:hover {
            background-color: var(--color-primary-dark);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn-secondary {
            background-color: var(--color-secondary);
        }
        
        .btn-secondary:hover {
            background-color: var(--color-secondary-light);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--color-primary);
            color: var(--color-primary);
        }
        
        .btn-outline:hover {
            background-color: var(--color-primary);
            color: white;
        }
        
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        
        .text-center {
            text-align: center;
        }
        
        .mb-sm { margin-bottom: var(--space-sm); }
        .mb-md { margin-bottom: var(--space-md); }
        .mb-lg { margin-bottom: var(--space-lg); }
        
        /* Navigation */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background-color: var(--color-primary);
            z-index: 1000;
            transition: width 0.1s;
        }
        
        .nav-dots {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            display: none;
        }
        
        @media (min-width: 768px) {
            .nav-dots {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }
        }
        
        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(26, 115, 232, 0.3);
            cursor: pointer;
            transition: var(--transition-standard);
        }
        
        .nav-dot.active {
            background-color: var(--color-primary);
            transform: scale(1.3);
        }
        
        .nav-dot:hover {
            background-color: var(--color-primary-light);
        }
        
        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero__background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, var(--color-background), #e1f5fe);
        }
        
        .hero__content {
            max-width: 800px;
        }
        
        .hero__title {
            margin-bottom: var(--space-md);
            opacity: 0;
        }
        
        .hero__subtitle {
            font-size: var(--fs-subsection);
            margin-bottom: var(--space-lg);
            color: var(--color-text-light);
            font-weight: 400;
            opacity: 0;
        }
        
        .hero__statistic {
            font-size: var(--fs-subsection);
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: var(--space-lg);
            opacity: 0;
        }
        
        .scroll-indicator {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0;
            animation: fadeIn 2s 1s forwards, bounce 2s 1s infinite;
        }
        
        .scroll-indicator__text {
            margin-bottom: 10px;
            font-size: var(--fs-small);
            color: var(--color-text-light);
        }
        
        .scroll-indicator__arrow {
            width: 30px;
            height: 30px;
            border: solid var(--color-primary);
            border-width: 0 3px 3px 0;
            transform: rotate(45deg);
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0) rotate(45deg); }
            40% { transform: translateY(-10px) rotate(45deg); }
            60% { transform: translateY(-5px) rotate(45deg); }
        }
        
        /* Water Ripple Effect */
        .water-ripple {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.3;
            z-index: -1;
            pointer-events: none;
            background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), 
                                        rgba(66, 133, 244, 0.2) 0%, 
                                        rgba(66, 133, 244, 0) 50%);
        }
        
        .floating-drops {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        .drop {
            position: absolute;
            width: var(--size, 20px);
            height: var(--size, 20px);
            border-radius: 50%;
            background-color: rgba(66, 133, 244, 0.2);
            transform: translate(var(--x, 0), var(--y, 0));
            opacity: var(--opacity, 0.5);
            transition: transform 3s ease-out, opacity 3s ease-out;
        }
        
        /* Summary Section */
        .summary {
            padding-top: 0;
        }
        
        .summary__grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-md);
        }
        
        .summary-card {
            opacity: 0;
            transform: translateY(30px);
        }
        
        .summary-card__icon {
            width: 50px;
            height: 50px;
            margin-bottom: var(--space-sm);
            color: var(--color-primary);
        }
        
        .summary-card__title {
            font-size: 1.25rem;
            margin-bottom: var(--space-sm);
        }
        
        .summary-card__value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--space-xs);
            font-family: var(--font-mono);
        }
        
        .summary-card__description {
            font-size: var(--fs-small);
            color: var(--color-text-light);
        }
        
        .summary-card--myth {
            border-left: 4px solid var(--color-accent);
        }
        
        /* Water Accumulation Section */
        .water-accumulation {
            background-color: #e1f5fe;
            position: relative;
            overflow: hidden;
        }
        
        .water-accumulation__content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        @media (min-width: 768px) {
            .water-accumulation__content {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                gap: var(--space-lg);
            }
        }
        
        .water-accumulation__text {
            flex: 1;
        }
        
        .water-visualization {
            flex: 1;
            position: relative;
            height: 400px;
            min-width: 300px;
        }
        
        .water-container {
            position: relative;
            width: 200px;
            height: 300px;
            margin: 0 auto;
            border-radius: 20px;
            overflow: hidden;
            background-color: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
        }
        
        .water-body {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0%;
            background: linear-gradient(180deg, var(--color-primary-light) 0%, var(--color-primary) 100%);
            transition: height 1s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .water-wave {
            position: absolute;
            top: 0;
            left: 0;
            width: 200%;
            height: 100%;
            animation: wave 3s linear infinite;
            transform-origin: center top;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z' opacity='.25' class='shape-fill'%3E%3C/path%3E%3Cpath d='M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z' opacity='.5' class='shape-fill'%3E%3C/path%3E%3Cpath d='M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z' class='shape-fill'%3E%3C/path%3E%3C/svg%3E") repeat-x;
            background-size: 1200px 120px;
        }
        
        @keyframes wave {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        
        .ml-counter {
            position: absolute;
            top: 10px;
            right: 10px;
            font-family: var(--font-mono);
            font-weight: 600;
            color: var(--color-primary-dark);
            background-color: rgba(255, 255, 255, 0.8);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .prompt-input {
            margin-top: var(--space-md);
            width: 100%;
            max-width: 500px;
        }
        
        .prompt-input__field {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--color-primary-light);
            border-radius: 8px;
            font-family: var(--font-body);
            font-size: 1rem;
            transition: var(--transition-standard);
        }
        
        .prompt-input__field:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.2);
        }
        
        .prompt-input__button {
            display: block;
            margin-top: 10px;
            padding: 12px 20px;
            background-color: var(--color-primary);
            color: white;
            border-radius: 8px;
            font-weight: 600;
            width: 100%;
        }
        
        .comparisons {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-md);
            margin-top: var(--space-lg);
            justify-content: center;
        }
        
        .comparison-item {
            text-align: center;
            flex: 1;
            min-width: 120px;
            max-width: 200px;
            padding: var(--space-sm);
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: var(--border-radius);
        }
        
        .comparison-item__icon {
            font-size: 2rem;
            margin-bottom: var(--space-xs);
            color: var(--color-primary);
        }
        
        .comparison-item__value {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .comparison-item__label {
            font-size: var(--fs-small);
            color: var(--color-text-light);
        }
        
        /* Regional Map Section */
        .regional-map {
            position: relative;
        }
        
        .map-container {
            width: 100%;
            height: 500px;
            position: relative;
            margin-bottom: var(--space-lg);
        }
        
        .world-map {
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 500'%3E%3Cpath d='M250,130 Q300,80 400,130 T550,130 T700,150 T780,200' fill='none' stroke='%231a73e8' stroke-width='2'/%3E%3Cpath d='M200,150 Q250,180 300,200 T400,230 T500,250' fill='none' stroke='%231a73e8' stroke-width='2'/%3E%3Cpath d='M600,250 Q650,200 700,230 T800,250' fill='none' stroke='%231a73e8' stroke-width='2'/%3E%3C/svg%3E") center/contain no-repeat;
        }
        
        .region {
            position: absolute;
            width: 150px;
            height: 100px;
            cursor: pointer;
            transition: var(--transition-standard);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .region:hover, .region.active {
            transform: scale(1.05);
        }
        
        .region-americas {
            top: 30%;
            left: 20%;
            background-color: rgba(26, 115, 232, 0.2);
            border-radius: var(--border-radius);
        }
        
        .region-emea {
            top: 25%;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 137, 123, 0.2);
            border-radius: var(--border-radius);
        }
        
        .region-apac {
            top: 40%;
            right: 20%;
            background-color: rgba(255, 112, 67, 0.2);
            border-radius: var(--border-radius);
        }
        
        .region__title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .region__value {
            font-family: var(--font-mono);
            font-size: 0.9rem;
        }
        
        .water-drop {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--color-primary);
            border-radius: 5px 5px 15px 15px;
            transform: rotate(45deg);
            opacity: 0.7;
        }
        
        .region-data {
            display: none;
            background-color: var(--color-card);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: var(--space-md);
            margin-top: var(--space-md);
        }
        
        .region-data.active {
            display: block;
            animation: fadeIn 0.5s forwards;
        }
        
        .region-data__title {
            margin-bottom: var(--space-sm);
            color: var(--color-primary);
        }
        
        .region-data__grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-md);
        }
        
        .data-card {
            background-color: rgba(26, 115, 232, 0.05);
            padding: var(--space-sm);
            border-radius: 8px;
        }
        
        .data-card__label {
            font-size: var(--fs-small);
            color: var(--color-text-light);
            margin-bottom: 5px;
        }
        
        .data-card__value {
            font-weight: 600;
            font-family: var(--font-mono);
        }
        
        /* Data Flow Section */
        .data-flow {
            background-color: var(--color-background);
            position: relative;
            overflow: hidden;
        }
        
        .flow-diagram {
            width: 100%;
            height: 500px;
            position: relative;
            margin: var(--space-lg) 0;
        }
        
        /* Node Styles */
        .node {
            position: absolute;
            width: 140px;
            height: 140px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            color: white;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .node:hover {
            transform: scale(1.05);
        }
        
        .node-user {
            top: 50%;
            left: 10%;
            transform: translateY(-50%);
            background-color: #4285f4;
        }
        
        .node-datacenter {
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #00897b;
        }
        
        .node-power {
            top: 80%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #ff7043;
        }
        
        .node-output {
            top: 50%;
            right: 10%;
            transform: translateY(-50%);
            background-color: #4285f4;
        }
        
        .flow-path {
            position: absolute;
            stroke: #1a73e8;
            stroke-width: 3;
            fill: none;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
        }
        
        .water-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: #4285f4;
            border-radius: 50%;
            opacity: 0.7;
            filter: drop-shadow(0 0 2px rgba(66, 133, 244, 0.5));
        }
        
        .flow-percentage {
            position: absolute;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--color-text);
            background-color: rgba(255, 255, 255, 0.8);
            padding: 5px 10px;
            border-radius: 20px;
        }
        
        .flow-percentage--onsite {
            top: 40%;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .flow-percentage--offsite {
            bottom: 40%;
            left: 50%;
            transform: translateX(-50%);
        }
        
        /* Comparative Filling Section */
        .comparative-filling {
            background-color: #e8f5e9;
            position: relative;
            overflow: hidden;
        }
        
        .comparison-container {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }
        
        @media (min-width: 768px) {
            .comparison-container {
                flex-direction: row;
            }
        }
        
        .compare-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .compare-container {
            width: 150px;
            height: 300px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            border: 2px solid rgba(255, 255, 255, 0.5);
            margin-bottom: var(--space-sm);
        }
        
        .compare-water {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0%;
            background: linear-gradient(180deg, var(--color-secondary-light) 0%, var(--color-secondary) 100%);
            transition: height 2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .compare-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .compare-info {
            font-size: var(--fs-small);
            color: var(--color-text-light);
            max-width: 250px;
        }
        
        .technology-selector {
            display: flex;
            gap: 10px;
            margin-top: var(--space-md);
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .technology-btn {
            padding: 8px 15px;
            border-radius: 30px;
            font-size: 0.9rem;
            background-color: rgba(255, 255, 255, 0.7);
            color: var(--color-text);
            border: 2px solid transparent;
        }
        
        .technology-btn.active {
            background-color: var(--color-secondary);
            color: white;
            border-color: white;
        }
        
        /* Myth Buster Section */
        .myth-buster {
            position: relative;
        }
        
        .myths-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-md);
        }
        
        .myth-card {
            perspective: 1000px;
            height: 250px;
            cursor: pointer;
        }
        
        .myth-card__inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        
        .myth-card.flipped .myth-card__inner {
            transform: rotateY(180deg);
        }
        
        .myth-card__front, .myth-card__back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: var(--border-radius);
            padding: var(--space-md);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .myth-card__front {
            background-color: var(--color-card);
            box-shadow: var(--box-shadow);
        }
        
        .myth-card__back {
            background-color: var(--color-primary-light);
            color: white;
            transform: rotateY(180deg);
        }
        
        .myth-card__back.true {
            background-color: var(--color-secondary);
        }
        
        .myth-card__back.false {
            background-color: var(--color-accent);
        }
        
        .myth-card__title {
            font-size: 1.2rem;
            margin-bottom: var(--space-sm);
        }
        
        .myth-card__icon {
            font-size: 2rem;
            margin-bottom: var(--space-sm);
        }
        
        .myth-card__status {
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: var(--space-sm);
            letter-spacing: 0.1em;
        }
        
        .myth-card__explanation {
            font-size: 0.9rem;
        }
        
        /* Usage Calculator Section */
        .usage-calculator {
            background-color: #e3f2fd;
            position: relative;
        }
        
        .calculator {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: var(--space-lg);
        }
        
        @media (min-width: 768px) {
            .calculator {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                gap: var(--space-lg);
            }
        }
        
        .calculator__inputs {
            flex: 1;
            width: 100%;
        }
        
        .calculator__visualization {
            flex: 1;
            display: flex;
            justify-content: center;
        }
        
        .slider-container {
            margin-bottom: var(--space-md);
        }
        
        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .slider {
            width: 100%;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 4px;
            background: #d1e6fa;
            outline: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-primary);
            cursor: pointer;
            transition: var(--transition-standard);
        }
        
        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }
        
        .calculator-container {
            width: 200px;
            height: 400px;
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            background-color: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.4);
        }
        
        .calculator-water {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0%;
            background: linear-gradient(180deg, var(--color-primary-light) 0%, var(--color-primary) 100%);
            transition: height 1s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .calculator-wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 10px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z' opacity='.25' class='shape-fill'%3E%3C/path%3E%3Cpath d='M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z' opacity='.5' class='shape-fill'%3E%3C/path%3E%3Cpath d='M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z' class='shape-fill'%3E%3C/path%3E%3C/svg%3E") repeat-x;
            background-size: 1200px 120px;
            animation: wave 3s linear infinite;
        }
        
        .calculator-results {
            margin-top: var(--space-md);
        }
        
        .calculator-stat {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.5);
        }
        
        .calculator-stat__icon {
            margin-right: 15px;
            color: var(--color-primary);
            font-size: 1.5rem;
        }
        
        .calculator-stat__text {
            flex: 1;
        }
        
        .calculator-stat__label {
            font-size: var(--fs-small);
            color: var(--color-text-light);
            margin-bottom: 3px;
        }
        
        .calculator-stat__value {
            font-weight: 600;
            font-family: var(--font-mono);
        }
        
        /* Solutions Section */
        .solutions {
            position: relative;
        }
        
        .timeline-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 0 10px;
        }
        
        .timeline-track-container {
            flex: 1;
            position: relative;
            padding: 0 20px;
        }
        
        .timeline-arrow {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #1a73e8;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .timeline-arrow:hover {
            background-color: #f5f9ff;
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .timeline-arrow:active {
            transform: scale(0.95);
        }
        
        .timeline-arrow--prev {
            margin-right: 10px;
        }
        
        .timeline-arrow--next {
            margin-left: 10px;
        }
        
        .solutions-timeline {
            position: relative;
            margin: var(--space-xl) 0;
            padding: 0 20px;
        }
        
        .timeline-track {
            position: relative;
            width: 100%;
            height: 4px;
            background-color: rgba(26, 115, 232, 0.2);
            border-radius: 2px;
        }
        
        .timeline-progress {
            position: absolute;
            top: 0;
            left: 0;
            width: 0%;
            height: 100%;
            background-color: #1a73e8;
            border-radius: 2px;
            transition: width 0.3s ease;
        }
        
        .timeline-points {
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            width: 100%;
            display: flex;
            justify-content: space-between;
        }
        
        .timeline-point {
            position: relative;
            width: 24px;
            height: 24px;
            background-color: white;
            border: 3px solid #4285f4;
            border-radius: 50%;
            z-index: 1;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .timeline-point:hover {
            transform: scale(1.2);
            box-shadow: 0 0 0 5px rgba(66, 133, 244, 0.2);
        }
        
        .timeline-point.active {
            background-color: #1a73e8;
            transform: scale(1.2);
            box-shadow: 0 0 0 5px rgba(66, 133, 244, 0.3);
        }
        
        .timeline-cards {
            margin-top: var(--space-lg);
        }
        
        .solution-card {
            display: none;
            opacity: 0;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            padding: 25px;
            transition: all 0.3s ease;
            position: relative;
            min-height: 300px;
        }
        
        .solution-card.active {
            display: block;
        }
        
        /* Initial state for the first solution card */
        #solution-geo-location.active {
            opacity: 1;
        }
        
        .solution-indicator {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 0.9rem;
            color: #1a73e8;
            font-weight: 600;
        }
        
        .solution-card__header {
            display: flex;
            align-items: center;
            margin-bottom: var(--space-sm);
        }
        
        .solution-card__icon {
            width: 50px;
            height: 50px;
            margin-right: var(--space-sm);
            color: #1a73e8;
            font-size: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .solution-card h3 {
            color: #1a73e8;
            margin-right: 100px; /* Make room for indicator */
        }
        
        .solution-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-md);
            margin-top: var(--space-md);
        }
        
        .solution-feature {
            background-color: rgba(26, 115, 232, 0.05);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #1a73e8;
            transition: transform 0.3s ease;
        }
        
        .solution-feature:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        }
        
        .solution-feature__title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #1a73e8;
        }
        
        /* Conclusion Section */
        .conclusion {
            text-align: center;
            background-color: #e8eaf6;
            position: relative;
            overflow: hidden;
        }
        
        .key-takeaways {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: var(--space-md);
            margin: var(--space-lg) 0;
        }
        
        .takeaway-item {
            flex: 1;
            min-width: 200px;
            max-width: 300px;
            padding: var(--space-md);
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        .takeaway-item__number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--space-xs);
        }
        
        .takeaway-item__text {
            font-size: 1rem;
        }
        
        .share-section {
            margin-top: var(--space-xl);
        }
        
        .share-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: var(--space-md);
        }
        
        .share-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--color-primary);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            transition: var(--transition-standard);
        }
        
        .share-button:hover {
            transform: translateY(-5px);
            background-color: var(--color-primary-dark);
        }
        
        .share-linkedin {
            background-color: #0077b5;
        }
        
        .share-twitter {
            background-color: #1da1f2;
        }
        
        .share-facebook {
            background-color: #1877f2;
        }
        
        .newsletter-form {
            max-width: 500px;
            margin: var(--space-lg) auto 0;
        }
        
        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--color-primary-light);
            border-radius: 8px;
            font-family: var(--font-body);
            font-size: 1rem;
            margin-bottom: 10px;
            transition: var(--transition-standard);
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.2);
        }
        
        .form-submit {
            width: 100%;
            padding: 12px 15px;
            background-color: var(--color-primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-family: var(--font-body);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-standard);
        }
        
        .form-submit:hover {
            background-color: var(--color-primary-dark);
        }
        
        /* Footer */
        .footer {
            padding: var(--space-lg) 0;
            background-color: #263238;
            color: white;
            text-align: center;
        }
        
        .footer__content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .footer__logo {
            margin-bottom: var(--space-md);
        }
        
        .footer__links {
            margin-bottom: var(--space-md);
        }
        
        .footer__link {
            color: rgba(255, 255, 255, 0.7);
            margin: 0 10px;
        }
        
        .footer__link:hover {
            color: white;
        }
        
        .footer__copyright {
            font-size: var(--fs-small);
            color: rgba(255, 255, 255, 0.5);
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>
    
    <!-- Navigation Dots -->
    <div class="nav-dots" id="navDots">
        <div class="nav-dot active" data-section="hero"></div>
        <div class="nav-dot" data-section="summary"></div>
        <div class="nav-dot" data-section="water-accumulation"></div>
        <div class="nav-dot" data-section="regional-map"></div>
        <div class="nav-dot" data-section="data-flow"></div>
        <div class="nav-dot" data-section="comparative-filling"></div>
        <div class="nav-dot" data-section="myth-buster"></div>
        <div class="nav-dot" data-section="usage-calculator"></div>
        <div class="nav-dot" data-section="solutions"></div>
        <div class="nav-dot" data-section="conclusion"></div>
    </div>

    <!-- Hero Section -->
    <section id="hero" class="hero">
        <div class="hero__background"></div>
        <div class="water-ripple" id="waterRipple"></div>
        <div class="floating-drops" id="floatingDrops"></div>
        
        <div class="container">
            <div class="hero__content">
                <h1 class="hero__title">ChatGPT's Global Water Footprint</h1>
                <p class="hero__subtitle">Exploring the hidden environmental impact of generative AI and its implications for global water resources</p>
                <p class="hero__statistic">Every ChatGPT conversation sips water that could otherwise fill thousands of glasses</p>
                <a href="#summary" class="btn">Explore the Research</a>
            </div>
        </div>
        
        <div class="scroll-indicator">
            <span class="scroll-indicator__text">Scroll to explore</span>
            <div class="scroll-indicator__arrow"></div>
        </div>
    </section>

    <!-- Summary Section -->
    <section id="summary" class="summary">
        <div class="container">
            <h2>Key Findings</h2>
            <p>This case study provides a clear, story-driven examination of ChatGPT's global water use and why it matters. We break down how water is used in both the operation of ChatGPT and the embodied water in its hardware.</p>
            
            <div class="summary__grid">
                <div class="card summary-card">
                    <div class="summary-card__icon">💧</div>
                    <h3 class="summary-card__title">Daily Consumption</h3>
                    <div class="summary-card__value" id="dailyConsumptionValue">500,000</div>
                    <p class="summary-card__description">Liters of water consumed globally each day – equivalent to a small town's usage</p>
                </div>
                
                <div class="card summary-card">
                    <div class="summary-card__icon">💻</div>
                    <h3 class="summary-card__title">Per Query Impact</h3>
                    <div class="summary-card__value" id="perQueryValue">20</div>
                    <p class="summary-card__description">Milliliters of water per user query – about 30 questions uses a 500mL water bottle</p>
                </div>
                
                <div class="card summary-card summary-card--myth">
                    <div class="summary-card__icon">❌</div>
                    <h3 class="summary-card__title">Myth Busted</h3>
                    <div class="summary-card__value">39M</div>
                    <p class="summary-card__description">ChatGPT does NOT use 39 million gallons daily. That's closer to annual usage.</p>
                </div>
                
                <div class="card summary-card">
                    <div class="summary-card__icon">🌍</div>
                    <h3 class="summary-card__title">Regional Variation</h3>
                    <div class="summary-card__value">5×</div>
                    <p class="summary-card__description">Difference between water usage in efficiently cooled versus water-intensive regions</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Water Accumulation Section -->
    <section id="water-accumulation" class="water-accumulation">
        <div class="container">
            <div class="water-accumulation__content">
                <div class="water-accumulation__text">
                    <h2>Water Usage Per Prompt</h2>
                    <p>Each time you ask ChatGPT a question, it uses between 15-30 milliliters of water, depending on where and how the query is processed. This adds up to significant volumes when multiplied by millions of daily users.</p>
                    <p>Try typing a prompt below to see how much water it would use:</p>
                    
                    <div class="prompt-input">
                        <input type="text" class="prompt-input__field" id="promptInput" placeholder="Type your ChatGPT prompt here...">
                        <button class="prompt-input__button" id="submitPrompt">Submit Prompt</button>
                    </div>
                </div>
                
                <div class="water-visualization">
                    <div class="water-container">
                        <div class="water-body">
                            <div class="water-wave"></div>
                        </div>
                        <div class="ml-counter">0 ml</div>
                    </div>
                </div>
            </div>
            
            <div class="comparisons">
                <div class="comparison-item">
                    <div class="comparison-item__icon">☕</div>
                    <div class="comparison-item__value">8</div>
                    <div class="comparison-item__label">Teaspoons of water</div>
                </div>
                
                <div class="comparison-item">
                    <div class="comparison-item__icon">🥤</div>
                    <div class="comparison-item__value">25</div>
                    <div class="comparison-item__label">Prompts per bottle</div>
                </div>
                
                <div class="comparison-item">
                    <div class="comparison-item__icon">🚿</div>
                    <div class="comparison-item__value">3750</div>
                    <div class="comparison-item__label">Prompts = 1 shower</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Regional Map Section -->
    <section id="regional-map" class="regional-map">
        <div class="container">
            <h2>Global Distribution of Water Usage</h2>
            <p>ChatGPT's water footprint varies significantly by region. Data centers in different climates have vastly different cooling requirements, and the power grid mix also impacts indirect water consumption.</p>
            
            <div class="map-container">
                <div class="world-map" id="worldMap">
                    <div class="region region-americas" data-region="americas">
                        <h4 class="region__title">Americas</h4>
                        <div class="region__value">~250,000 L/day</div>
                    </div>
                    
                    <div class="region region-emea" data-region="emea">
                        <h4 class="region__title">EMEA</h4>
                        <div class="region__value">~75,000 L/day</div>
                    </div>
                    
                    <div class="region region-apac" data-region="apac">
                        <h4 class="region__title">Asia-Pacific</h4>
                        <div class="region__value">~75,000 L/day</div>
                    </div>
                </div>
            </div>
            
            <div class="region-data" id="regionData">
                <h3 class="region-data__title">Regional Water Impact</h3>
                <p>Select a region on the map to see detailed water usage information.</p>
            </div>
            
            <div class="region-data" id="regionAmericas" data-region="americas">
                <h3 class="region-data__title">Americas Region</h3>
                <p>Approximately half of ChatGPT's operational water use occurs in the Americas. This region contributes the largest share because a large volume of traffic is served from U.S. data centers, with some using water-intensive cooling.</p>
                
                <div class="region-data__grid">
                    <div class="data-card">
                        <div class="data-card__label">Daily Consumption</div>
                        <div class="data-card__value">150,000-250,000 liters</div>
                    </div>
                    
                    <div class="data-card">
                        <div class="data-card__label">Traffic Share</div>
                        <div class="data-card__value">~50% of global queries</div>
                    </div>
                    
                    <div class="data-card">
                        <div class="data-card__label">Water Efficiency (WUE)</div>
                        <div class="data-card__value">0.5-1.5 L/kWh (varies by location)</div>
                    </div>
                    
                    <div class="data-card">
                        <div class="data-card__label">Equivalent Households</div>
                        <div class="data-card__value">~650 U.S. households daily usage</div>
                    </div>
                </div>
            </div>
            
            <div class="region-data" id="regionEMEA" data-region="emea">
                <h3 class="region-data__title">EMEA Region</h3>
                <p>The EMEA water use is relatively low despite significant usage share, because many European facilities have ultra-efficient cooling. For instance, Microsoft's data center in Ireland has a WUE of only ~0.02 L/kWh.</p>
                
                <div class="region-data__grid">
                    <div class="data-card">
                        <div class="data-card__label">Daily Consumption</div>
                        <div class="data-card__value">50,000-100,000 liters</div>
                    </div>
                    
                    <div class="data-card">
                        <div class="data-card__label">Traffic Share</div>
                        <div class="data-card__value">~30% of global queries</div>
                    </div>
                    
                    <div class="data-card">
                        <div class="data-card__label">Water Efficiency (WUE)</div>
                        <div class="data-card__value">0.02-0.1 L/kWh (extremely efficient)</div>
                    </div>
                    
                    <div class="data-card">
                        <div class="data-card__label">Water Saving Technology</div>
                        <div class="data-card__value">Outside air cooling, minimal evaporation</div>
                    </div>
                </div>
            </div>
            
            <div class="region-data" id="regionAPAC" data-region="apac">
                <h3 class="region-data__title">Asia-Pacific Region</h3>
                <p>The Asia-Pacific region shows mixed efficiency. Places like Singapore have extremely low water usage (WUE ~0.02), but other locations might have higher water intensity depending on climate and cooling technology.</p>
                
                <div class="region-data__grid">
                    <div class="data-card">
                        <div class="data-card__label">Daily Consumption</div>
                        <div class="data-card__value">50,000-100,000 liters</div>
                    </div>
                    
                    <div class="data-card">
                        <div class="data-card__label">Traffic Share</div>
                        <div class="data-card__value">~20% of global queries</div>
                    </div>
                    
                    <div class="data-card">
                        <div class="data-card__label">Water Efficiency (WUE)</div>
                        <div class="data-card__value">0.02-1.9 L/kWh (varies widely)</div>
                    </div>
                    
                    <div class="data-card">
                        <div class="data-card__label">Notable Data Centers</div>
                        <div class="data-card__value">Singapore (very efficient), Indonesia (developing)</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Data Flow Section -->
    <section id="data-flow" class="data-flow">
        <div class="container">
            <h2>How Water Flows Through AI Infrastructure</h2>
            <p>Out of the ~300,000–500,000 liters consumed daily, roughly 20% is from on-site data center cooling, and the remaining 80% is from power generation. This ratio varies by region – if a data center is powered by renewable energy, the off-site water is minimal.</p>
            
            <div class="flow-diagram" id="flowDiagram">
                <div class="node node-user">
                    <div>User Query</div>
                </div>
                
                <div class="node node-datacenter">
                    <div>Data Center</div>
                    <div>(20% of water)</div>
                </div>
                
                <div class="node node-power">
                    <div>Power Plants</div>
                    <div>(80% of water)</div>
                </div>
                
                <div class="node node-output">
                    <div>ChatGPT Response</div>
                </div>
                
                <svg width="100%" height="100%" id="flowSVG">
                    <path class="flow-path" id="path1" d="M 150,250 C 200,250 200,150 300,150" />
                    <path class="flow-path" id="path2" d="M 420,150 C 520,150 520,250 650,250" />
                    <path class="flow-path" id="path3" d="M 300,185 C 300,300 300,300 300,400" />
                    <path class="flow-path" id="path4" d="M 300,400 C 300,450 500,450 650,400" />
                </svg>
                
                <div class="flow-percentage flow-percentage--onsite">
                    On-site: ~20% of water usage
                </div>
                
                <div class="flow-percentage flow-percentage--offsite">
                    Off-site: ~80% of water usage
                </div>
            </div>
            
            <div class="container-narrow">
                <h3>Water Sources and Consumption Points</h3>
                <p>For every liter of water evaporated directly at a data center to cool ChatGPT's servers, roughly four additional liters are consumed upstream at power plants. Even if a data center doesn't use much water on-site, the electricity it buys may hide a water cost elsewhere.</p>
            </div>
        </div>
    </section>

    <!-- Comparative Filling Section -->
    <section id="comparative-filling" class="comparative-filling">
        <div class="container">
            <h2>Cooling Technology Comparison</h2>
            <p>Different cooling technologies have dramatically different water efficiency. Traditional evaporative cooling consumes substantial water, while newer technologies like liquid cooling in closed loops can reduce or eliminate water consumption.</p>
            
            <div class="comparison-container">
                <div class="compare-column">
                    <div class="compare-container" id="container1">
                        <div class="compare-water" id="water1"></div>
                    </div>
                    <h3 class="compare-title">Traditional Cooling</h3>
                    <p class="compare-info">Uses evaporative cooling towers that consume 1-1.5 liters of water per kWh of IT electricity.</p>
                </div>
                
                <div class="compare-column">
                    <div class="compare-container" id="container2">
                        <div class="compare-water" id="water2"></div>
                    </div>
                    <h3 class="compare-title">Hybrid Cooling</h3>
                    <p class="compare-info">Combines evaporative cooling with air economizers, using 0.2-0.5 liters of water per kWh.</p>
                </div>
                
                <div class="compare-column">
                    <div class="compare-container" id="container3">
                        <div class="compare-water" id="water3"></div>
                    </div>
                    <h3 class="compare-title">Zero-Water Cooling</h3>
                    <p class="compare-info">Advanced closed-loop liquid cooling that consumes negligible water (less than 0.05 liters per kWh).</p>
                </div>
            </div>
            
            <div class="technology-selector">
                <button class="technology-btn active" data-tech="standard">Standard Climate</button>
                <button class="technology-btn" data-tech="hot">Hot Climate</button>
                <button class="technology-btn" data-tech="cool">Cool Climate</button>
            </div>
        </div>
    </section>

    <!-- Myth Buster Section -->
    <section id="myth-buster" class="myth-buster">
        <div class="container">
            <h2>Myth Busters: AI & Water Usage</h2>
            <p>Many claims about AI's water usage circulate online - some accurate, some wildly exaggerated. Let's separate fact from fiction by exploring common myths about ChatGPT's water footprint.</p>
            
            <div class="myths-container">
                <div class="myth-card" id="myth1">
                    <div class="myth-card__inner">
                        <div class="myth-card__front">
                            <div class="myth-card__icon">💧</div>
                            <h3 class="myth-card__title">ChatGPT uses 39 million gallons of water every day</h3>
                            <p>Click to reveal the truth</p>
                        </div>
                        <div class="myth-card__back false">
                            <div class="myth-card__status">FALSE</div>
                            <p class="myth-card__explanation">This viral claim is incorrect. The figure of 39 million gallons is closer to ChatGPT's annual water consumption, not daily. The actual daily usage is around 80,000-130,000 gallons (~300,000-500,000 liters).</p>
                        </div>
                    </div>
                </div>
                
                <div class="myth-card" id="myth2">
                    <div class="myth-card__inner">
                        <div class="myth-card__front">
                            <div class="myth-card__icon">🚰</div>
                            <h3 class="myth-card__title">One ChatGPT query uses a full glass of water</h3>
                            <p>Click to reveal the truth</p>
                        </div>
                        <div class="myth-card__back false">
                            <div class="myth-card__status">FALSE</div>
                            <p class="myth-card__explanation">A single ChatGPT query uses about 15-30 milliliters of water on average - closer to a few tablespoons, not a full glass. However, in less efficient data centers, it can approach 50ml per query.</p>
                        </div>
                    </div>
                </div>
                
                <div class="myth-card" id="myth3">
                    <div class="myth-card__inner">
                        <div class="myth-card__front">
                            <div class="myth-card__icon">⚡</div>
                            <h3 class="myth-card__title">Most water use is from data center cooling</h3>
                            <p>Click to reveal the truth</p>
                        </div>
                        <div class="myth-card__back false">
                            <div class="myth-card__status">FALSE</div>
                            <p class="myth-card__explanation">Only about 20% of the water is used directly for cooling. The remaining 80% is consumed indirectly at power plants generating the electricity that powers AI systems.</p>
                        </div>
                    </div>
                </div>
                
                <div class="myth-card" id="myth4">
                    <div class="myth-card__inner">
                        <div class="myth-card__front">
                            <div class="myth-card__icon">🌡️</div>
                            <h3 class="myth-card__title">All data centers need water for cooling</h3>
                            <p>Click to reveal the truth</p>
                        </div>
                        <div class="myth-card__back false">
                            <div class="myth-card__status">FALSE</div>
                            <p class="myth-card__explanation">Many modern data centers, especially in cooler climates, use free air cooling or closed-loop systems that require minimal or zero water for cooling. Microsoft has developed zero-water cooling data centers.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Usage Calculator Section -->
    <section id="usage-calculator" class="usage-calculator">
        <div class="container">
            <h2>Calculate Your ChatGPT Water Footprint</h2>
            <p>How much water does your AI usage consume? Use this interactive calculator to estimate your personal ChatGPT water footprint based on your usage patterns.</p>
            
            <div class="calculator">
                <div class="calculator__inputs">
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>Daily Prompts</span>
                            <span id="promptValue">5</span>
                        </div>
                        <input type="range" min="1" max="100" value="5" class="slider" id="promptSlider">
                    </div>
                    
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>Prompt Length</span>
                            <span id="lengthValue">Medium</span>
                        </div>
                        <input type="range" min="1" max="3" value="2" class="slider" id="lengthSlider">
                    </div>
                    
                    <div class="calculator-results">
                        <div class="calculator-stat">
                            <div class="calculator-stat__icon">💧</div>
                            <div class="calculator-stat__text">
                                <div class="calculator-stat__label">Daily Water Usage</div>
                                <div class="calculator-stat__value" id="dailyUsageValue">100 ml</div>
                            </div>
                        </div>
                        
                        <div class="calculator-stat">
                            <div class="calculator-stat__icon">🥤</div>
                            <div class="calculator-stat__text">
                                <div class="calculator-stat__label">Equivalent to</div>
                                <div class="calculator-stat__value" id="bottleValue">1/5 water bottle</div>
                            </div>
                        </div>
                        
                        <div class="calculator-stat">
                            <div class="calculator-stat__icon">📅</div>
                            <div class="calculator-stat__text">
                                <div class="calculator-stat__label">Annual Water Usage</div>
                                <div class="calculator-stat__value" id="annualValue">36.5 liters</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="calculator__visualization">
                    <div class="calculator-container">
                        <div class="calculator-water" id="calculatorWater"></div>
                        <div class="calculator-wave"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Solutions Section -->
    <section id="solutions" class="solutions">
        <div class="container">
            <h2>Solutions to Reduce AI's Water Footprint</h2>
            <p>There are several strategies that can dramatically reduce ChatGPT's water usage while maintaining performance. These span from technology improvements to operational decisions.</p>
            
            <div class="solutions-timeline">
                <div class="timeline-controls">
                    <button class="timeline-arrow timeline-arrow--prev" id="prevSolution">
                        <span class="visually-hidden">Previous Solution</span>
                        &larr;
                    </button>
                    <div class="timeline-track-container">
                        <div class="timeline-track">
                            <div class="timeline-progress" id="timelineProgress"></div>
                        </div>
                        
                        <div class="timeline-points">
                            <div class="timeline-point active" data-solution="geo-location" data-index="0"></div>
                            <div class="timeline-point" data-solution="cooling-tech" data-index="1"></div>
                            <div class="timeline-point" data-solution="energy-sources" data-index="2"></div>
                            <div class="timeline-point" data-solution="transparency" data-index="3"></div>
                        </div>
                    </div>
                    <button class="timeline-arrow timeline-arrow--next" id="nextSolution">
                        <span class="visually-hidden">Next Solution</span>
                        &rarr;
                    </button>
                </div>
            </div>
            
            <div class="timeline-cards">
                <div class="solution-card active" id="solution-geo-location">
                    <div class="solution-indicator">1 of 4</div>
                    <div class="solution-card__header">
                        <div class="solution-card__icon">🌎</div>
                        <h3>Geo-Location & Workload Shifting</h3>
                    </div>
                    <p>Not all data centers are equal in water efficiency. One straightforward approach is to shift more of ChatGPT's workload to regions or times where cooling can be water-free (or at least water-light).</p>
                    
                    <div class="solution-grid">
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Follow the Water Efficiency</h4>
                            <p>Scheduling tasks in data centers with the lowest current water usage efficiency can save significant amounts of water.</p>
                        </div>
                        
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Temporal Diversity</h4>
                            <p>At night or during cooler seasons, even hot regions might use mostly outside air cooling, saving water.</p>
                        </div>
                        
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Spatial Diversity</h4>
                            <p>Running workloads in cool locations like Finland or Sweden when it's hot elsewhere reduces water consumption.</p>
                        </div>
                    </div>
                </div>
                
                <div class="solution-card" id="solution-cooling-tech">
                    <div class="solution-indicator">2 of 4</div>
                    <div class="solution-card__header">
                        <div class="solution-card__icon">❄️</div>
                        <h3>Advanced Cooling Technologies</h3>
                    </div>
                    <p>The data center industry is moving toward more water-efficient cooling systems. Traditional air conditioning with cooling towers is giving way to hybrid cooling and liquid cooling that recirculates coolant in closed loops.</p>
                    
                    <div class="solution-grid">
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Zero-Water Cooling</h4>
                            <p>Microsoft recently announced a next-generation data center design that uses zero water for cooling, even for AI workloads.</p>
                        </div>
                        
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Liquid Immersion</h4>
                            <p>Immersing servers in non-conductive liquid eliminates the need for water-intensive air cooling systems.</p>
                        </div>
                        
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Closed-Loop Systems</h4>
                            <p>Water or coolant circulated in sealed pipes/radiators to dissipate heat, without evaporating away.</p>
                        </div>
                    </div>
                </div>
                
                <div class="solution-card" id="solution-energy-sources">
                    <div class="solution-indicator">3 of 4</div>
                    <div class="solution-card__header">
                        <div class="solution-card__icon">☀️</div>
                        <h3>Energy Source Choices</h3>
                    </div>
                    <p>The indirect water use from power generation can be reduced by shifting to energy sources that use less water. Solar and wind power use negligible water to generate electricity.</p>
                    
                    <div class="solution-grid">
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Renewable Energy</h4>
                            <p>Solar and wind power require virtually no water to generate electricity, unlike traditional thermal power plants.</p>
                        </div>
                        
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Grid Mix Optimization</h4>
                            <p>Running workloads when the grid is powered by more renewables reduces the water intensity of electricity.</p>
                        </div>
                        
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">On-site Generation</h4>
                            <p>Data centers with on-site solar or wind generation can bypass water-intensive grid electricity.</p>
                        </div>
                    </div>
                </div>
                
                <div class="solution-card" id="solution-transparency">
                    <div class="solution-indicator">4 of 4</div>
                    <div class="solution-card__header">
                        <div class="solution-card__icon">📊</div>
                        <h3>Transparency and Monitoring</h3>
                    </div>
                    <p>One of the reasons for wild claims is the lack of easily accessible data. AI providers should disclose more granular water footprint information for better accountability.</p>
                    
                    <div class="solution-grid">
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Standardized Reporting</h4>
                            <p>Consistent methodologies for measuring and reporting AI's water usage would enable meaningful comparisons.</p>
                        </div>
                        
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Water Positive Goals</h4>
                            <p>Microsoft has pledged to replenish more water than it consumes by 2030, driving innovation in water conservation.</p>
                        </div>
                        
                        <div class="solution-feature">
                            <h4 class="solution-feature__title">Public Dashboards</h4>
                            <p>Real-time monitoring and reporting of water usage per service would drive accountability and innovation.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Conclusion Section -->
    <section id="conclusion" class="conclusion">
        <div class="container">
            <h2>Conclusion: Every Drop Counts</h2>
            <p>ChatGPT's global water use, while often out of sight, should not be out of mind. We found that the scale is meaningful but manageable – it's a new factor to consider in sustainable tech.</p>
            
            <div class="key-takeaways">
                <div class="takeaway-item">
                    <div class="takeaway-item__number">1</div>
                    <p class="takeaway-item__text">ChatGPT uses significant but not catastrophic amounts of water – roughly 500,000 liters daily worldwide.</p>
                </div>
                
                <div class="takeaway-item">
                    <div class="takeaway-item__number">2</div>
                    <p class="takeaway-item__text">Technology solutions exist today that could reduce this footprint by 80-90% through better cooling and energy choices.</p>
                </div>
                
                <div class="takeaway-item">
                    <div class="takeaway-item__number">3</div>
                    <p class="takeaway-item__text">Regional variation is enormous – the same AI task might use 5-10× more water in a hot region versus a cool climate.</p>
                </div>
            </div>
            
            <p>By clearly understanding the numbers and mechanisms, we can debunk false claims and focus on real solutions. The story of ChatGPT's water footprint is still being written, and with the right choices, it can become a success story of innovation meeting responsibility.</p>
            
            <div class="share-section">
                <h3>Share This Research</h3>
                <div class="share-buttons">
                    <a href="#" class="share-button share-linkedin">
                        <span class="visually-hidden">Share on LinkedIn</span>
                        in
                    </a>
                    <a href="#" class="share-button share-twitter">
                        <span class="visually-hidden">Share on Twitter</span>
                        𝕏
                    </a>
                    <a href="#" class="share-button share-facebook">
                        <span class="visually-hidden">Share on Facebook</span>
                        f
                    </a>
                </div>
                
                <div class="newsletter-form">
                    <h3>Stay Updated on AI Sustainability Research</h3>
                    <form id="newsletterForm">
                        <input type="email" class="form-input" placeholder="Your email address" required>
                        <button type="submit" class="form-submit">Subscribe</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__logo">
                    <h3>AI Environmental Impact Research</h3>
                </div>
                
                <div class="footer__links">
                    <a href="#" class="footer__link">About</a>
                    <a href="#" class="footer__link">Research</a>
                    <a href="#" class="footer__link">Contact</a>
                    <a href="#" class="footer__link">Privacy Policy</a>
                </div>
                
                <div class="footer__copyright">
                    © 2025 All Rights Reserved
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Register GSAP plugins
            gsap.registerPlugin(ScrollTrigger, MotionPathPlugin);
            
            // Hero Section Animations
            animateHero();
            
            // Floating water drops
            createFloatingDrops();
            
            // Water ripple effect
            initWaterRipple();
            
            // Progress Bar
            initProgressBar();
            
            // Navigation Dots
            initNavDots();
            
            // Summary Section
            animateSummaryCards();
            animateCounters();
            
            // Water Accumulation
            initWaterAccumulation();
            
            // Regional Map
            initRegionalMap();
            
            // Data Flow
            animateDataFlow();
            
            // Comparative Filling
            initComparativeFilling();
            
            // Myth Buster
            initMythBuster();
            
            // Usage Calculator
            initUsageCalculator();
            
            // Solutions Timeline
            initSolutionsTimeline();
            
            // Scroll to top button
            initScrollToTop();
            
            // Social sharing
            initSocialSharing();
        });
        
        function initSocialSharing() {
            // Social sharing
            const shareButtons = document.querySelectorAll('.share-button');
            
            shareButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    let shareUrl = encodeURIComponent(window.location.href);
                    let shareTitle = encodeURIComponent("ChatGPT's Global Water Footprint - Interactive Whitepaper");
                    let shareText = encodeURIComponent("Every ChatGPT query uses ~20ml of water. Learn about AI's impact on water resources.");
                    let url = '';
                    
                    if (button.classList.contains('share-linkedin')) {
                        url = `https://www.linkedin.com/sharing/share-offsite/?url=${shareUrl}`;
                    } else if (button.classList.contains('share-twitter')) {
                        url = `https://twitter.com/intent/tweet?url=${shareUrl}&text=${shareText}`;
                    } else if (button.classList.contains('share-facebook')) {
                        url = `https://www.facebook.com/sharer/sharer.php?u=${shareUrl}`;
                    }
                    
                    if (url) {
                        window.open(url, '_blank', 'width=600,height=400');
                    }
                });
            });
        }

        // Hero Section Animations
        function animateHero() {
            const heroTimeline = gsap.timeline();
            
            heroTimeline
                .to('.hero__title', {opacity: 1, duration: 1, ease: "power2.out"})
                .to('.hero__subtitle', {opacity: 1, duration: 1, ease: "power2.out"}, "-=0.5")
                .to('.hero__statistic', {opacity: 1, duration: 1, ease: "power2.out"}, "-=0.5")
                .to('.scroll-indicator', {opacity: 1, duration: 1, ease: "power2.out"});
        }

        // Floating Water Drops
        function createFloatingDrops() {
            const container = document.getElementById('floatingDrops');
            const dropCount = 15;
            
            for (let i = 0; i < dropCount; i++) {
                const drop = document.createElement('div');
                drop.className = 'drop';
                
                // Random size
                const size = Math.random() * 30 + 10;
                drop.style.setProperty('--size', `${size}px`);
                
                // Random opacity
                const opacity = Math.random() * 0.5 + 0.2;
                drop.style.setProperty('--opacity', opacity);
                
                // Initial position
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                drop.style.setProperty('--x', `${x}%`);
                drop.style.setProperty('--y', `${y}%`);
                
                container.appendChild(drop);
                
                // Animation
                animateDrop(drop);
            }
        }

        function animateDrop(drop) {
            const newX = Math.random() * 100;
            const newY = Math.random() * 100;
            
            drop.style.setProperty('--x', `${newX}%`);
            drop.style.setProperty('--y', `${newY}%`);
            
            setTimeout(() => {
                animateDrop(drop);
            }, 3000 + Math.random() * 2000);
        }

        // Water Ripple Effect
        function initWaterRipple() {
            const ripple = document.getElementById('waterRipple');
            
            document.addEventListener('mousemove', (e) => {
                const x = e.clientX / window.innerWidth * 100;
                const y = e.clientY / window.innerHeight * 100;
                
                ripple.style.setProperty('--x', `${x}%`);
                ripple.style.setProperty('--y', `${y}%`);
            });
        }

        // Progress Bar
        function initProgressBar() {
            window.addEventListener('scroll', () => {
                const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;
                const clientHeight = document.documentElement.clientHeight || window.innerHeight;
                
                const scrollPercentage = (scrollTop / (scrollHeight - clientHeight)) * 100;
                
                document.getElementById('progressBar').style.width = scrollPercentage + '%';
                
                // Update active section in nav dots
                updateActiveSection(scrollTop + clientHeight / 2);
            });
        }

        // Navigation Dots
        function initNavDots() {
            const navDots = document.querySelectorAll('.nav-dot');
            
            navDots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const sectionId = dot.getAttribute('data-section');
                    const section = document.getElementById(sectionId);
                    
                    window.scrollTo({
                        top: section.offsetTop,
                        behavior: 'smooth'
                    });
                });
            });
        }

        function updateActiveSection(scrollPosition) {
            const sections = document.querySelectorAll('section');
            const navDots = document.querySelectorAll('.nav-dot');
            
            sections.forEach((section, index) => {
                const sectionTop = section.offsetTop;
                const sectionBottom = sectionTop + section.offsetHeight;
                
                if (scrollPosition >= sectionTop && scrollPosition <= sectionBottom) {
                    navDots.forEach(dot => {
                        dot.classList.remove('active');
                    });
                    
                    const activeDot = document.querySelector(`.nav-dot[data-section="${section.id}"]`);
                    if (activeDot) {
                        activeDot.classList.add('active');
                    }
                }
            });
        }

        // Summary Cards Animation
        function animateSummaryCards() {
            gsap.utils.toArray('.summary-card').forEach(card => {
                gsap.to(card, {
                    opacity: 1,
                    y: 0,
                    duration: 0.8,
                    scrollTrigger: {
                        trigger: card,
                        start: "top 80%",
                        end: "bottom 20%",
                        toggleActions: "play none none reverse"
                    }
                });
            });
        }

        // Animate Counters
        function animateCounters() {
            // Check if CountUp is available
            if (typeof CountUp !== 'undefined') {
                try {
                    // Daily Consumption Counter
                    const dailyConsumption = new CountUp('dailyConsumptionValue', 0, 500000, 0, 2.5, {
                        separator: ',',
                        useEasing: true
                    });
                    
                    ScrollTrigger.create({
                        trigger: '#dailyConsumptionValue',
                        start: "top 80%",
                        onEnter: () => dailyConsumption.start()
                    });
                    
                    // Per Query Counter
                    const perQuery = new CountUp('perQueryValue', 0, 20, 0, 2, {
                        useEasing: true
                    });
                    
                    ScrollTrigger.create({
                        trigger: '#perQueryValue',
                        start: "top 80%",
                        onEnter: () => perQuery.start()
                    });
                } catch (e) {
                    console.warn("CountUp initialization error:", e);
                    fallbackCounters();
                }
            } else {
                console.warn("CountUp.js not available, using fallback animation");
                fallbackCounters();
            }
        }
        
        // Fallback animation if CountUp is not available
        function fallbackCounters() {
            // Daily Consumption Counter
            const dailyConsumptionEl = document.getElementById('dailyConsumptionValue');
            const finalDailyValue = 500000;
            
            gsap.to({value: 0}, {
                value: finalDailyValue,
                duration: 2.5,
                ease: "power2.out",
                scrollTrigger: {
                    trigger: dailyConsumptionEl,
                    start: "top 80%"
                },
                onUpdate: function() {
                    const formattedValue = Math.round(this.targets()[0].value).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                    dailyConsumptionEl.textContent = formattedValue;
                }
            });
            
            // Per Query Counter
            const perQueryEl = document.getElementById('perQueryValue');
            const finalQueryValue = 20;
            
            gsap.to({value: 0}, {
                value: finalQueryValue,
                duration: 2,
                ease: "power2.out",
                scrollTrigger: {
                    trigger: perQueryEl,
                    start: "top 80%"
                },
                onUpdate: function() {
                    perQueryEl.textContent = Math.round(this.targets()[0].value);
                }
            });
        }

        // Water Accumulation Visualization
        function initWaterAccumulation() {
            const waterBody = document.querySelector('.water-body');
            const mlCounter = document.querySelector('.ml-counter');
            const promptInput = document.getElementById('promptInput');
            const submitButton = document.getElementById('submitPrompt');
            
            submitButton.addEventListener('click', () => {
                const prompt = promptInput.value.trim();
                
                if (prompt.length === 0) return;
                
                // Calculate water usage based on prompt length
                const promptLength = prompt.length;
                let waterUsage = 0;
                
                if (promptLength < 20) {
                    waterUsage = 15;
                } else if (promptLength < 100) {
                    waterUsage = 20;
                } else {
                    waterUsage = 30;
                }
                
                // Update water level (maximum 100%)
                const waterHeight = Math.min((waterUsage / 100) * 100, 100);
                waterBody.style.height = `${waterHeight}%`;
                
                // Update counter
                mlCounter.textContent = `${waterUsage} ml`;
                
                // Clear input
                promptInput.value = '';
            });
            
            // Scroll animation
            ScrollTrigger.create({
                trigger: '.water-accumulation',
                start: "top 70%",
                end: "center 30%",
                scrub: true,
                onUpdate: function(self) {
                    const progress = self.progress;
                    const waterUsage = Math.round(progress * 25);
                    const waterHeight = Math.min(progress * 80, 80);
                    
                    waterBody.style.height = `${waterHeight}%`;
                    mlCounter.textContent = `${waterUsage} ml`;
                }
            });
        }

        // Regional Map
        function initRegionalMap() {
            const regions = document.querySelectorAll('.region');
            const regionData = document.querySelectorAll('.region-data');
            
            regions.forEach(region => {
                region.addEventListener('click', () => {
                    const regionName = region.getAttribute('data-region');
                    
                    // Highlight active region
                    regions.forEach(r => r.classList.remove('active'));
                    region.classList.add('active');
                    
                    // Show corresponding data
                    regionData.forEach(data => data.classList.remove('active'));
                    const targetData = document.getElementById(`region${regionName.charAt(0).toUpperCase() + regionName.slice(1)}`);
                    if (targetData) {
                        targetData.classList.add('active');
                    }
                });
            });
            
            // Add water drops animation
            animateWaterDrops();
        }
        
        function animateWaterDrops() {
            const mapContainer = document.getElementById('worldMap');
            const dropCount = 20;
            
            // Remove existing drops
            const existingDrops = document.querySelectorAll('.water-drop');
            existingDrops.forEach(drop => drop.remove());
            
            // Create new drops
            for (let i = 0; i < dropCount; i++) {
                const drop = document.createElement('div');
                drop.className = 'water-drop';
                
                // Random position
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                drop.style.left = `${x}%`;
                drop.style.top = `${y}%`;
                
                mapContainer.appendChild(drop);
                
                // Animation
                gsap.from(drop, {
                    scale: 0,
                    opacity: 0,
                    duration: 1,
                    delay: i * 0.1,
                    ease: "elastic.out(1, 0.5)"
                });
            }
        }

        // Data Flow Animation
        function animateDataFlow() {
            // Animate SVG paths
            gsap.utils.toArray('.flow-path').forEach(path => {
                const length = path.getTotalLength();
                
                // Set up initial state
                gsap.set(path, {
                    strokeDasharray: length,
                    strokeDashoffset: length
                });
                
                // Animate path drawing
                gsap.to(path, {
                    strokeDashoffset: 0,
                    duration: 1.5, // Faster animation
                    ease: "power1.inOut",
                    scrollTrigger: {
                        trigger: '.flow-diagram',
                        start: "top 70%",
                        end: "center 30%",
                        scrub: 0.3 // More responsive scrubbing
                    }
                });
            });
            
            // Add water particles animation
            animateWaterParticles();
        }
        
        function animateWaterParticles() {
            const flowDiagram = document.getElementById('flowDiagram');
            const particleCount = 50; // Increased particle count
            
            // Remove any existing particles first
            const existingParticles = flowDiagram.querySelectorAll('.water-particle');
            existingParticles.forEach(particle => particle.remove());
            
            // Define paths for particles to follow
            const paths = document.querySelectorAll('.flow-path');
            
            // Create particles for each path
            paths.forEach(path => {
                // Create multiple particles for each path
                for (let i = 0; i < particleCount / paths.length; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'water-particle';
                    
                    // Randomize particle size for more natural look
                    const size = 4 + Math.random() * 6;
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    
                    // Randomize opacity
                    particle.style.opacity = 0.4 + Math.random() * 0.4;
                    
                    flowDiagram.appendChild(particle);
                    
                    // Get random position along the path
                    const startPosition = Math.random();
                    
                    // Animation speed based on path (user to datacenter faster than datacenter to power)
                    let duration = 1 + Math.random();
                    if (path.id === 'path3' || path.id === 'path4') {
                        duration = 2 + Math.random();
                    }
                    
                    // Create animation
                    gsap.fromTo(
                        particle,
                        { 
                            motionPath: {
                                path: path,
                                align: path,
                                alignOrigin: [0.5, 0.5],
                                autoRotate: false,
                                start: startPosition,
                                end: startPosition
                            }
                        },
                        {
                            motionPath: {
                                path: path,
                                align: path,
                                alignOrigin: [0.5, 0.5],
                                autoRotate: false,
                                start: startPosition,
                                end: 1
                            },
                            duration: duration,
                            delay: Math.random() * 2,
                            repeat: -1,
                            ease: "none",
                            onRepeat: function() {
                                // Reset to random start position on repeat
                                const newStartPos = Math.random();
                                gsap.set(particle, {
                                    motionPath: {
                                        path: path,
                                        align: path,
                                        alignOrigin: [0.5, 0.5],
                                        autoRotate: false,
                                        start: newStartPos,
                                        end: newStartPos
                                    }
                                });
                            }
                        }
                    );
                }
            });
        }

        // Comparative Filling
        function initComparativeFilling() {
            const container1 = document.getElementById('water1');
            const container2 = document.getElementById('water2');
            const container3 = document.getElementById('water3');
            
            // Initial animation on scroll
            gsap.timeline({
                scrollTrigger: {
                    trigger: '.comparative-filling',
                    start: "top 70%",
                    end: "center 30%",
                    scrub: true
                }
            })
            .to(container1, { height: '90%', duration: 1.5 })
            .to(container2, { height: '30%', duration: 1.5 }, 0)
            .to(container3, { height: '5%', duration: 1.5 }, 0);
            
            // Technology selection
            const techButtons = document.querySelectorAll('.technology-btn');
            
            techButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tech = button.getAttribute('data-tech');
                    
                    // Update active button
                    techButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    // Update water levels based on selected technology
                    // Faster transition - reduced from 1s to 0.3s
                    if (tech === 'hot') {
                        gsap.to(container1, { height: '95%', duration: 0.3 });
                        gsap.to(container2, { height: '50%', duration: 0.3 });
                        gsap.to(container3, { height: '15%', duration: 0.3 });
                    } else if (tech === 'cool') {
                        gsap.to(container1, { height: '50%', duration: 0.3 });
                        gsap.to(container2, { height: '15%', duration: 0.3 });
                        gsap.to(container3, { height: '2%', duration: 0.3 });
                    } else {
                        gsap.to(container1, { height: '90%', duration: 0.3 });
                        gsap.to(container2, { height: '30%', duration: 0.3 });
                        gsap.to(container3, { height: '5%', duration: 0.3 });
                    }
                });
            });
        }

        // Myth Buster
        function initMythBuster() {
            const mythCards = document.querySelectorAll('.myth-card');
            
            mythCards.forEach(card => {
                card.addEventListener('click', () => {
                    card.classList.toggle('flipped');
                });
                
                // Scroll animation
                gsap.from(card, {
                    y: 50,
                    opacity: 0,
                    duration: 0.8,
                    scrollTrigger: {
                        trigger: card,
                        start: "top 80%",
                        end: "bottom 20%",
                        toggleActions: "play none none reverse"
                    }
                });
            });
        }

        // Usage Calculator
        function initUsageCalculator() {
            const promptSlider = document.getElementById('promptSlider');
            const promptValue = document.getElementById('promptValue');
            const lengthSlider = document.getElementById('lengthSlider');
            const lengthValue = document.getElementById('lengthValue');
            
            const dailyUsageValue = document.getElementById('dailyUsageValue');
            const bottleValue = document.getElementById('bottleValue');
            const annualValue = document.getElementById('annualValue');
            
            const calculatorWater = document.getElementById('calculatorWater');
            
            // Initialize values
            updateCalculator();
            
            // Event listeners
            promptSlider.addEventListener('input', updateCalculator);
            lengthSlider.addEventListener('input', updateCalculator);
            
            function updateCalculator() {
                const prompts = parseInt(promptSlider.value);
                promptValue.textContent = prompts;
                
                let lengthText = 'Medium';
                let lengthMultiplier = 1;
                
                switch (parseInt(lengthSlider.value)) {
                    case 1:
                        lengthText = 'Short';
                        lengthMultiplier = 0.7;
                        break;
                    case 2:
                        lengthText = 'Medium';
                        lengthMultiplier = 1;
                        break;
                    case 3:
                        lengthText = 'Long';
                        lengthMultiplier = 1.5;
                        break;
                }
                
                lengthValue.textContent = lengthText;
                
                // Calculate water usage
                const mlPerPrompt = 20 * lengthMultiplier;
                const dailyUsage = prompts * mlPerPrompt;
                const annualUsage = dailyUsage * 365 / 1000; // In liters
                
                // Update display
                dailyUsageValue.textContent = `${dailyUsage.toFixed(0)} ml`;
                bottleValue.textContent = `${(dailyUsage / 500).toFixed(1)} water bottles`;
                annualValue.textContent = `${annualUsage.toFixed(1)} liters`;
                
                // Update water level (max 100%)
                const percentage = Math.min((dailyUsage / 1000) * 100, 100);
                calculatorWater.style.height = `${percentage}%`;
            }
        }

        // Solutions Timeline
        function initSolutionsTimeline() {
            const timelineProgress = document.getElementById('timelineProgress');
            const timelinePoints = document.querySelectorAll('.timeline-point');
            const solutionCards = document.querySelectorAll('.solution-card');
            const prevButton = document.getElementById('prevSolution');
            const nextButton = document.getElementById('nextSolution');
            
            let currentIndex = 0;
            const totalSolutions = timelinePoints.length;
            
            // Function to show a specific solution
            function showSolution(index) {
                // Constrain the index
                if (index < 0) index = 0;
                if (index >= totalSolutions) index = totalSolutions - 1;
                
                currentIndex = index;
                
                // Update active point
                timelinePoints.forEach((point, i) => {
                    point.classList.toggle('active', i === index);
                });
                
                // Update progress bar (percentage based on index)
                const progress = (index / (totalSolutions - 1)) * 100;
                gsap.to(timelineProgress, {
                    width: `${progress}%`,
                    duration: 0.3,
                    ease: "power1.inOut"
                });
                
                // Show corresponding solution card with animation
                solutionCards.forEach((card, i) => {
                    const isActive = i === index;
                    
                    // If this card should be active
                    if (isActive && !card.classList.contains('active')) {
                        // Hide all cards first
                        solutionCards.forEach(c => c.classList.remove('active'));
                        
                        // Make this one active with fade animation
                        card.style.opacity = 0;
                        card.classList.add('active');
                        gsap.to(card, {
                            opacity: 1,
                            duration: 0.3,
                            ease: "power1.inOut"
                        });
                    }
                });
                
                // Update button states
                prevButton.disabled = index === 0;
                nextButton.disabled = index === totalSolutions - 1;
                
                // Add visual indication for disabled buttons
                prevButton.style.opacity = index === 0 ? 0.5 : 1;
                nextButton.style.opacity = index === totalSolutions - 1 ? 0.5 : 1;
            }
            
            // Force display of first solution when scrolled into view
            ScrollTrigger.create({
                trigger: '.solutions',
                start: "top 60%",
                once: true,
                onEnter: () => {
                    // Explicitly set the first solution card to visible
                    const firstCard = document.getElementById('solution-geo-location');
                    if (firstCard) {
                        solutionCards.forEach(card => {
                            card.classList.remove('active');
                            card.style.opacity = 0;
                        });
                        
                        firstCard.classList.add('active');
                        gsap.to(firstCard, {
                            opacity: 1,
                            duration: 0.5
                        });
                    }
                    
                    // Set progress bar to first point
                    gsap.to(timelineProgress, {
                        width: '0%',
                        duration: 0.3
                    });
                    
                    // Update active point
                    timelinePoints.forEach((point, i) => {
                        point.classList.toggle('active', i === 0);
                    });
                }
            });
            
            // Timeline point click handlers
            timelinePoints.forEach((point) => {
                point.addEventListener('click', () => {
                    const index = parseInt(point.getAttribute('data-index'));
                    showSolution(index);
                });
            });
            
            // Previous/Next button handlers
            prevButton.addEventListener('click', () => {
                showSolution(currentIndex - 1);
            });
            
            nextButton.addEventListener('click', () => {
                showSolution(currentIndex + 1);
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                // Only handle keys when solutions section is in viewport
                const solutionsSection = document.querySelector('.solutions');
                const rect = solutionsSection.getBoundingClientRect();
                const isInViewport = (
                    rect.top <= (window.innerHeight || document.documentElement.clientHeight) &&
                    rect.bottom >= 0
                );
                
                if (isInViewport) {
                    if (e.key === 'ArrowLeft') {
                        showSolution(currentIndex - 1);
                    } else if (e.key === 'ArrowRight') {
                        showSolution(currentIndex + 1);
                    }
                }
            });
            
            // Initial animations for points
            gsap.from(timelinePoints, {
                scale: 0.5,
                opacity: 0,
                duration: 0.5,
                stagger: 0.1,
                scrollTrigger: {
                    trigger: '.solutions-timeline',
                    start: "top 70%"
                }
            });
            
            // Initial animation for arrow buttons
            gsap.from([prevButton, nextButton], {
                opacity: 0,
                x: function(i) { return i === 0 ? -20 : 20; },
                duration: 0.5,
                delay: 0.3,
                scrollTrigger: {
                    trigger: '.solutions-timeline',
                    start: "top 70%"
                }
            });
        }

        // Scroll to Top
        function initScrollToTop() {
            window.addEventListener('scroll', () => {
                const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                
                if (scrollTop > window.innerHeight) {
                    document.querySelector('.nav-dots').style.opacity = '1';
                } else {
                    document.querySelector('.nav-dots').style.opacity = '0.5';
                }
            });
        }

        // Form Submission
        function initFormSubmission() {
            const newsletterForm = document.getElementById('newsletterForm');
            
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    // Simulate form submission
                    const submitButton = newsletterForm.querySelector('.form-submit');
                    const originalText = submitButton.textContent;
                    
                    submitButton.textContent = 'Subscribing...';
                    submitButton.disabled = true;
                    
                    setTimeout(() => {
                        alert('Thank you for subscribing to our newsletter!');
                        submitButton.textContent = originalText;
                        submitButton.disabled = false;
                        newsletterForm.reset();
                    }, 1500);
                });
            }
            
            // Social sharing
            const shareButtons = document.querySelectorAll('.share-button');
            
            shareButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    const network = button.classList.contains('share-linkedin') ? 'LinkedIn' :
                                   button.classList.contains('share-twitter') ? 'Twitter' :
                                   button.classList.contains('share-facebook') ? 'Facebook' : '';
                    
                    alert(`Sharing to ${network} functionality would be implemented here.`);
                });
            });
        }
    </script>
</body>
</html>
